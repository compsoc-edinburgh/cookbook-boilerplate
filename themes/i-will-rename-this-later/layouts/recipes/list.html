<!DOCTYPE html>
<html lang="{{ .Site.Language.Lang }}">
  <head>
    {{ partial "preamble.html" }}
    <title>All {{ .Title }} | {{ .Site.Title }}</title>
  </head>
  <body>
    <div class="container">
      <main>
        <h1>{{ .Title }}</h1>
        <span>List of all recipes.</span>
        <hr>
        <ol class="listing">
          {{ $paginator := .Paginate (where (.Pages.ByTitle.Reverse).ByPublishDate.Reverse "Type" "recipes") }}

          {{ range first 10 $paginator.Pages }}
            <a href="{{ .RelPermalink  }}" {{ if isset .Params "image" }}class="image"{{ end }}>
              <li class="listing_item" role="article" {{ if isset .Params "image" }}style="background-image: url({{.Params.image}})"{{ end }}>
                <h2>{{ .Title }}</h2>
                <span class="pubdate">written: <time>{{ .PublishDate.Format "2 January, 2006" }}</time></span>
                {{ if isset .Params "summary" }}
                  <p>{{ .Params.summary }}</p>
                {{end}}
              </li>
            </a>
          {{ end }}
        </ol>
        {{ template "_internal/pagination.html" . }}
        {{ partial "footer.html" }}
      </main>
      {{ partial "postamble.html" }}
    </div>
  </body>
</html>
